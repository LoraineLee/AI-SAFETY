---
title: Storing Messages
description: Welcome to the Vercel AI SDK documentation!
---

# Storing Messages

The ability to store message history is essential for chatbot use cases.
The Vercel AI SDK simplifies the process of storing chat history through the `onFinish` callback of the `streamText` function.

## Implementing Persistent Chat History

To implement persistent chat storage, you can utilize the `onFinish` callback on the `streamText` function.
This callback is triggered upon the completion of the model's response and all tool executions,
making it an ideal place to handle the storage of each interaction.

```tsx highlight="10-13"
'use server';

import { CoreMessage, streamText } from 'ai';
import { openai } from '@ai-sdk/openai';

export async function continueConversation(messages: CoreMessage[]) {
  const result = await streamText({
    model: openai('gpt-4-turbo'),
    messages,
    async onFinish({ text, toolCalls, toolResults, finishReason, usage }) {
      // implement your own storage logic:
      await saveChat({ text, toolCalls, toolResults });
    },
  });

  return result.toAIStreamResponse();
}
```
